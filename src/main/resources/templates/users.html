<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- -------------------------  -->
    <!-- -------------------------  -->

    <meta charset="UTF-8">
    <title>[[${pageTitle}]]</title>
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}"/>
</head>
<body>
<div class="container-fluid text-center">
    <div>
        <h1>Manage Users</h1><br/>
    </div>
    <!-- update massage -->
    <div class="h3">
        <a class="h2" th:href="@{/main/add}">[[${pageTitle}]]</a>
    </div>

    <!--  notification -->
    <div th:if="${massage}" class="alert alert-success text-center">[[${massage}]]</div>
    <div>
        <table class="table" table-borderd="2">
            <thead class="thead-dark">
            <tr>
                <th> ID</th>
                <th> Name</th>
                <th> Email</th>
                <th> Phone No.</th>
                <th> City</th>
                <th></th>
            <tr>
            </thead>
            <tbody>
            <th:block th:each="user : ${userdata}">
                <tr>
                    <td>[[${user.id}]]</td>
                    <td>[[${user.name}]]</td>
                    <td>[[${user.email}]]</td>
                    <td>[[${user.phone}]]</td>
                    <td>[[${user.city}]]</td>
                    <td>
                        <a class="btn btn-primary" th:href="@{'/main/edit/' + ${user.id}}"> Edit</a>
                        <a class="btn btn-danger"  th:href="@{'/main/delete/' + ${user.id}}" onclick="return confirmDelete2();">Delete</a>


                    </td>
                </tr>
            </th:block>
            </tbody>
        </table>
    </div>
</div>
<!--
<script type="text/javascript">
    function deleteForm(){
window.location="/main/user";
    }
</script>-->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
      function confirmDelete2() {
          if (confirm("Are you sure you want to delete this record?")) {
              return true;
          } else {
              return false;
          }
      }
  </script>
</body>
</html>